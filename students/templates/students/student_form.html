{% extends "base.html" %}

{% block title %}Nuevo Estudiante{% endblock %}

{% block content %}
<div class="row justify-content-center mt-4">
    <div class="col-md-7 col-lg-6">
        <h1 class="h4 mb-4 fw-bold">Crear Estudiante</h1>

        {% if form.non_field_errors %}
            <div class="alert alert-danger py-2 mb-4">
                {% for err in form.non_field_errors %}<div>{{ err }}</div>{% endfor %}
            </div>
        {% endif %}

        <form method="post" novalidate>
            {% csrf_token %}

            <!-- Datos de Usuario -->
            <div class="mb-4 p-3 border rounded bg-light">
                <h2 class="h6 fw-bold mb-3">Datos de Usuario</h2>
                <div class="mb-3">
                    <label for="{{ form.email.id_for_label }}" class="form-label">{{ form.email.label }} *</label>
                    {{ form.email }}
                    {% if form.email.help_text %}<div class="form-text">{{ form.email.help_text }}</div>{% endif %}
                    {% for error in form.email.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
                </div>
            </div>

            <!-- Datos Personales -->
            <div class="mb-4 p-3 border rounded">
                <h2 class="h6 fw-bold mb-3">Datos Personales</h2>

                <div class="mb-3">
                    <label for="{{ form.dni.id_for_label }}" class="form-label">{{ form.dni.label }} *</label>
                    {{ form.dni }}
                    {% if form.dni.help_text %}<div class="form-text">{{ form.dni.help_text }}</div>{% endif %}
                    {% for error in form.dni.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
                </div>

                <div class="mb-3">
                    <label for="{{ form.name.id_for_label }}" class="form-label">{{ form.name.label }} *</label>
                    {{ form.name }}
                    {% if form.name.help_text %}<div class="form-text">{{ form.name.help_text }}</div>{% endif %}
                    {% for error in form.name.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
                </div>

                <div class="mb-3">
                    <label for="{{ form.surname.id_for_label }}" class="form-label">{{ form.surname.label }} *</label>
                    {{ form.surname }}
                    {% if form.surname.help_text %}<div class="form-text">{{ form.surname.help_text }}</div>{% endif %}
                    {% for error in form.surname.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
                </div>

                <div class="mb-3">
                    <label for="{{ form.career.id_for_label }}" class="form-label">{{ form.career.label }} *</label>
                    {{ form.career }}
                    {% if form.career.help_text %}<div class="form-text">{{ form.career.help_text }}</div>{% endif %}
                    {% for error in form.career.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
                </div>

                <div class="mb-3">
                    <label for="{{ form.address.id_for_label }}" class="form-label">{{ form.address.label }}</label>
                    {{ form.address }}
                    {% if form.address.help_text %}<div class="form-text">{{ form.address.help_text }}</div>{% endif %}
                    {% for error in form.address.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
                </div>

                <div class="mb-3">
                    <label for="{{ form.birth_date.id_for_label }}" class="form-label">{{ form.birth_date.label }}</label>
                    {{ form.birth_date }}
                    {% if form.birth_date.help_text %}<div class="form-text">{{ form.birth_date.help_text }}</div>{% endif %}
                    {% for error in form.birth_date.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
                </div>

                <div class="mb-3">
                    <label for="{{ form.phone.id_for_label }}" class="form-label">{{ form.phone.label }}</label>
                    {{ form.phone }}
                    {% if form.phone.help_text %}<div class="form-text">{{ form.phone.help_text }}</div>{% endif %}
                    {% for error in form.phone.errors %}<div class="invalid-feedback d-block">{{ error }}</div>{% endfor %}
                </div>
            </div>

            <div class="d-flex justify-content-between mt-4">
                <a href="{% url 'students:student_list' %}" class="btn btn-outline-secondary">Cancelar</a>
                <button type="submit" class="btn btn-primary">Guardar</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
